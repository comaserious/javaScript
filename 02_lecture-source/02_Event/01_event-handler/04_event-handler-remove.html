<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04. event handler remove</title>
</head>
<body>
    <h1>04. 이벤트 핸들러 제거</h1>

    <pre>
        EventTarget.prototype.removeEventListener 메소드를 통해
        addEventListener 메소드로 등록한 이벤트 핸들러를 제거한다
        removeEventListener  메소드에 전달한 인수는 addEventListener 메소드와 동일하며
        전달한 인수가 일치하지 않는 경우, 이벤트 핸들러는 제거 되지 않는다
    </pre>
    <button id="btn">click please</button>

    <script>
        const $btn = document.getElementById('btn');

        const handleClick=()=>{
            alert('진짜 누르넼')
        }

        //이벤트핸들러 등록하기
        $btn.addEventListener('click',handleClick);

        //이벤트 핸들러 제거
        $btn.removeEventListener('click',handleClick);

        //이벤트 핸들러 등록
        $btn.addEventListener('mouseover', ()=> alert('마우스 올렸군'));
        //등록한 이벤트 핸들러가 참조를 할수 없으므로 제거가 불가능
        // $btn.removeEventListener('mouseover',()=>alert('마우스 올렸군'));
    </script>

    <pre>
        프로퍼티 방식으로 등록한 이벤트 핸들러 제거 방식
        removeEventListener 메소드로 제거를 할 수 없다
        그러면 어떻게?
        프로퍼티 값에다가 null값을 넣어주면 된다
        어짜피 하나만 등록이 되기때문에 null 로 덮어씌우면 이전에 등록한 이벤트 핸들러는 사라지게 된다
    </pre>


    <button id="btn2">더블클리을 해주</button>

    <script>
        const $btn2 = document.getElementById('btn2');
        //프로퍼티 방식으로 이벤트핸들러 등록
        const handleDblclick = ()=>alert('많이 눌렀네?');

        $btn2.ondblclick=handleDblclick;

        //여전히 제거가 되지 않는다
        $btn2.removeEventListener('dblclick',handleDblclick);

        console.log($btn2.ondblclick);
        //null 값을 할당하면 등록되어 있던 이벤트가 제거가 된다
        $btn2.ondblclick=null;
        console.log($btn2.ondblclick);
    </script>
</body>
</html>